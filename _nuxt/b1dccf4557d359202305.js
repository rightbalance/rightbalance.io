(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{416:function(t,e,r){r(74),r(34),r(26);var n=r(417);r(418),r(420);var o=r(421);r(72);var c=r(422),h=r(423),f=r(424);r(28),r(35),r(31),r(10),r(48);var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,r){return Object.assign(e,f({},r,t[r]))}),{})},y=function(){"use strict";function t(e,r){var n=e.query,path=e.path,o=e.init,h=e.postprocess,l=void 0===h?[]:h;c(this,t),this.query=n,this.path=path,this.init=o,this.postprocess=l,this.options=r||{},this.keys=null,this.postprocess.unshift((function(data){return data.map((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).filter((function(t){return!e.includes(t)})).reduce((function(e,r){return Object.assign(e,f({},r,t[r]))}),{})}(t,["text"])}))}))}var e;return h(t,[{key:"only",value:function(t){return this.keys=Array.isArray(t)?t:[t],this}},{key:"sortBy",value:function(t,e){return this.query=this.query.simplesort(t,{desc:"desc"===e}),this}},{key:"where",value:function(t){return this.query=this.query.find(t),this}},{key:"search",value:function(t,e){var r;return r="object"===o(t)?t:e?{query:{type:"match",field:t,value:e,prefix_length:1,fuzziness:1,extended:!0,minimum_should_match:1}}:{query:{type:"bool",should:this.options.fullTextSearchFields.map((function(e){return{type:"match",field:e,value:t,prefix_length:1,operator:"and",minimum_should_match:1,fuzziness:1,extended:!0}}))}},this.query=this.query.find({$fts:r}),this}},{key:"surround",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.before,n=void 0===r?1:r,o=e.after,c=void 0===o?1:o;this.keys&&this.keys.push("slug");var h=function(data){var e=data.findIndex((function(e){return e.slug===t})),r=new Array(n+c).fill(null,0);if(-1===e)return r;for(var o=data.slice(e-n,e),h=data.slice(e+1,e+1+c),f=0,i=n-1;i>=0;i--)r[i]=o[f]||null,f++;for(var l=0,y=n;y<=c;y++)r[y]=h[l]||null,l++;return r};return this.postprocess.push(h),this}},{key:"limit",value:function(t){return"string"==typeof t&&(t=parseInt(t)),this.query=this.query.limit(t),this}},{key:"skip",value:function(t){return"string"==typeof t&&(t=parseInt(t)),this.query=this.query.offset(t),this}},{key:"fetch",value:(e=n(regeneratorRuntime.mark((function t(){var data,e,r,n,o,c,h,f,y=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(data=this.query.data({removeMeta:!0}),this.keys&&(e=function(data){return data.map((function(t){return l(t,y.keys)}))},this.postprocess.unshift(e)),r=!0,n=!1,o=void 0,t.prev=5,c=this.postprocess[Symbol.iterator]();!(r=(h=c.next()).done);r=!0)f=h.value,data=f(data);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),n=!0,o=t.t0;case 13:t.prev=13,t.prev=14,r||null==c.return||c.return();case 16:if(t.prev=16,!n){t.next=19;break}throw o;case 19:return t.finish(16);case 20:return t.finish(13);case 21:if(data){t.next=23;break}throw new Error("".concat(this.path," not found"));case 23:return t.abrupt("return",data);case 24:case"end":return t.stop()}}),t,this,[[5,9,13,21],[14,,16,20]])}))),function(){return e.apply(this,arguments)})}]),t}();t.exports=y},427:function(t,e,r){"use strict";r.r(e);r(72),r(111),r(415),r(36);var n=r(416),o=r.n(n),c=r(425),h=r.n(c),f=r(426);r.n(f).a.register();var l,y,d=["/","/case-studies","/join","/testimonials","/solutions","/opportunities"],v=function(){var path="/".concat(Array.from(arguments).join("/").replace(/\/+/g,"/")),t=!path||!!d.find((function(t){return t===path})),e=t?{dir:path}:{path:path},r=t?[]:[function(data){return data[0]}];return new o.a({query:y.chain().find(e,!t),postprocess:r},{fullTextSearchFields:["title","description","slug","text"]})};e.default=function(t){return(l=new h.a("content.db")).loadJSONObject(t),y=l.getCollection("items"),v}}}]);